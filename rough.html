<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Debounce | Polyfill</title>
</head>

<body>

	<section>
		<input type="text" />
		<div>
			Default:
			<span id="default"></span>
		</div>
		<div>
			Debounce:
			<span id="debounce"></span>
		</div>
	</section>
	<script>
		const input = document.querySelector('input');
		const defaultText = document.querySelector('#default');
		const debounceText = document.querySelector('#debounce');

		const updateDebounceText = debounce((text) => {
			debounceText.textContent = text
		})

		input.addEventListener('input', (e) => {
			defaultText.textContent = e.target.value;
			updateDebounceText(e.target.value);
		})
		function debounce(callback, delay = 350) {
			let timer;
			return function (...args) {
				clearTimeout(timer)
				timer = setTimeout(() => {
					callback(...args)
				}, delay)
			}
		}
	</script>
</body>

</html>